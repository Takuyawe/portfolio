---
import Layout from '../layouts/Layout.astro';
import Home from '../components/Home.astro';
import About from '../components/About.astro';
import Skills from '../components/Skills.astro';
import Projects from '../components/Projects.astro';
import ProjectOne from "../components/ProjectOne.astro"
import ProjectTwo from "../components/ProjectTwo.astro"
import Contact from "../components/Contact.astro"
---

<Layout title="Welcome to My Porfolio">
  <!-- TODO: IDによって表示するコンポーネントを -->
  <Home />
  <About />
  <Skills />
  <Projects />
  <!-- <ProjectOne /> -->
  <!-- <ProjectTwo /> -->
  <Contact />
</Layout>
c
<script>
  import { currentPageId } from '../stores/pageId';
  import { getViewSectionId } from "../modules"

  // let lastScrollPosition = window.scrollY || document.documentElement.scrollTop;

  // TODO: mousewheelでのスクロールに対応させる
  window.addEventListener('keydown', (e) => {
    let nextPageId = currentPageId.get()
    // const currentScrollPosition =
    //   window.scrollY || document.documentElement.scrollTop;
    if (e.key === "ArrowDown") {
      console.log('down');
      nextPageId++
    } else if (e.key === "ArrowUp") {
      console.log('up');
      nextPageId--
    }
    const sectionId = getViewSectionId(nextPageId);
    currentPageId.set(nextPageId);

    console.log(nextPageId)

    document.getElementById(sectionId)?.scrollIntoView({behavior: "smooth"})
  });

  
</script>
